<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Economic Data - Lecture 7</title>
    <meta charset="utf-8" />
    <meta name="author" content="School of Economics - University of Bristol" />
    <meta name="date" content="2023-11-12" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Economic Data - Lecture 7
## Sebastian Ellingsen
### School of Economics - University of Bristol
### 2023-11-12

---





&lt;style type="text/css"&gt;
.remark-code{line-height: 1.5; font-size: 80%}

@media print {
  .has-continuation {
    display: block;
  }
}

code.r.hljs.remark-code{
  position: relative;
  overflow-x: hidden;
}


code.r.hljs.remark-code:hover{
  overflow-x:visible;
  width: 500px;
  border-style: solid;
}
&lt;/style&gt;







## After this lecture you should be able to

1. Explain the difference between register and survey (or ILO) unemployment.

2. Explain how the unemployment rate is calculated.

3. Explain the intuition behind seasonal adjustment. 

---



## Data about the labour market

1) From the population to the labour force

2) The supply side (people supplying work)

3) The demand side (employers looking for workers)

4) The labour market and prices: The Phillips Curve

5) Demand meets Supply: The Beveridge Curve






---
class: inverse, center, middle

# Data About the Labor Market




---

## From population to labour force

The overall population of the UK ($\approx$ 66 mio in the UK)

- Children and elderly ($\approx$ 24 mio in the UK).

- Out of the labour force ($\approx$ 9 mio in the UK).

- The labour force ($\approx$ 33 mio in the UK) (also called the economic active).




---
## Out of the labour force

Also known as: The economic inactive

- Studying (≈ 27% in the UK)

- Looking after the family/staying home (≈ 24% in the UK) 

- Long-term sick (≈ 23% in the UK)

- Retired (≈ 13% in the UK)






---
## The labour force

The labour force = Unemployed + Employed

Unemployed (ILO definition) (The ILO is the International Labour Organisation)

- without a job, have been actively seeking work in the past four weeks and are available to start work in the next two weeks.

- out of work, have found a job and are waiting to start it in the next two weeks.

Employed (ILO definition)

- work at least one hour for pay in a week.

- temporarily away from jobs.

- on Government-supported training/employment programs.

- unpaid family work.


---

class: inverse, center, middle

`$$\Large \text{Unemployment rate} = \frac{\text{Unemployed}}{\text{Unemployed} + \text{Employed}}$$`


---




&lt;img src="lecture7_files/figure-html/unnamed-chunk-3-1.png" width="1008" style="display: block; margin: auto;" /&gt;







---




&lt;img src="lecture7_files/figure-html/unnamed-chunk-5-1.png" width="1008" style="display: block; margin: auto;" /&gt;




---


## Seasonal variation 

Labor market data has a substantial seasonal component.

- Night: fewer work, fewer travel etc.

- Weekends: fewer work, fewer commute, more in museums and at the beach.

- August: fewer work, more travel.

- December: private consumption is higher in UK.

This is an issue if we want to compare changes between periods. 

- Unemployment is always lower in December, does that mean "the economy" is doing better?

- We might want to understand if unemployment is lower *over and beyond* what we can expect from seasonal variation or the trend. 





---





&lt;img src="lecture7_files/figure-html/unnamed-chunk-7-1.png" width="1008" style="display: block; margin: auto;" /&gt;





---





&lt;img src="lecture7_files/figure-html/unnamed-chunk-9-1.png" width="1008" style="display: block; margin: auto;" /&gt;




---



&lt;img src="lecture7_files/figure-html/unnamed-chunk-11-1.png" width="1008" style="display: block; margin: auto;" /&gt;




---



&lt;img src="lecture7_files/figure-html/unnamed-chunk-13-1.png" width="1008" style="display: block; margin: auto;" /&gt;





---
## Decomposing a time series


We can decompose the variation in the unemployment rate `\(u_t\)` as follows

`$$u_t = s_t+\lambda_t +\varepsilon_t$$`
- `\(\lambda_t\)` is a trend component.

- `\(s_t\)` is a seasonal compononent. 

- `\(\varepsilon_t\)` are random shocks.

Some statistical agencies provide data where the different compononents have been isolated.

There is a wide nariety of ways to decompose a time series and the correct method depends on the series and application.

Let's create our own decomposition to get a sense of how it works. 



---

## Finding the trend component

one way to remove seaonsality and other shocks is through the use of linear filters. 

One such filter is the moving average or MA filter.

The MA filter of order k or `\(MA(k)\)` is given by

`$$\lambda_t = \frac{1}{2k + 1}\sum_{t-k}^{t+k}y_t$$`

A moving average is commonly used with time series data to smooth out short-term fluctuations and highlight longer-term trends.

Let's try this with our unemployment data.



---




count: false
 

.panel1-chunk_1-auto[

```r
# Loading packages
*library(tidyverse)
```
]
 
.panel2-chunk_1-auto[

]

---
count: false
 

.panel1-chunk_1-auto[

```r
# Loading packages
library(tidyverse)
*library(lubridate)
```
]
 
.panel2-chunk_1-auto[

]

---
count: false
 

.panel1-chunk_1-auto[

```r
# Loading packages
library(tidyverse)
library(lubridate)

# Loading and cleaning the data
*read_csv('../data/STLABOUR_10112023115611842.csv')
```
]
 
.panel2-chunk_1-auto[

```
# A tibble: 564 x 19
   LOCATION Country SUBJECT Subject MEASURE Measure FREQUENCY Frequency TIME 
   &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;
 1 GBR      United… LRHUTT… Unempl… ST      Level,… M         Monthly   2000…
 2 GBR      United… LRHUTT… Unempl… ST      Level,… M         Monthly   2000…
 3 GBR      United… LRHUTT… Unempl… ST      Level,… M         Monthly   2000…
 4 GBR      United… LRHUTT… Unempl… ST      Level,… M         Monthly   2000…
 5 GBR      United… LRHUTT… Unempl… ST      Level,… M         Monthly   2000…
 6 GBR      United… LRHUTT… Unempl… ST      Level,… M         Monthly   2000…
 7 GBR      United… LRHUTT… Unempl… ST      Level,… M         Monthly   2000…
 8 GBR      United… LRHUTT… Unempl… ST      Level,… M         Monthly   2000…
 9 GBR      United… LRHUTT… Unempl… ST      Level,… M         Monthly   2000…
10 GBR      United… LRHUTT… Unempl… ST      Level,… M         Monthly   2000…
# … with 554 more rows, and 10 more variables: Time &lt;chr&gt;, `Unit Code` &lt;chr&gt;,
#   Unit &lt;chr&gt;, `PowerCode Code` &lt;int&gt;, PowerCode &lt;chr&gt;, `Reference Period
#   Code` &lt;chr&gt;, `Reference Period` &lt;chr&gt;, Value &lt;dbl&gt;, `Flag Codes` &lt;chr&gt;,
#   Flags &lt;chr&gt;
```
]

---
count: false
 

.panel1-chunk_1-auto[

```r
# Loading packages
library(tidyverse)
library(lubridate)

# Loading and cleaning the data
read_csv('../data/STLABOUR_10112023115611842.csv') %&gt;%
* select(TIME, Measure, Value)
```
]
 
.panel2-chunk_1-auto[

```
# A tibble: 564 x 3
   TIME    Measure                        Value
   &lt;chr&gt;   &lt;chr&gt;                          &lt;dbl&gt;
 1 2000-01 Level, rate or quantity series   5.7
 2 2000-02 Level, rate or quantity series   5.8
 3 2000-03 Level, rate or quantity series   5.7
 4 2000-04 Level, rate or quantity series   5.5
 5 2000-05 Level, rate or quantity series   5.4
 6 2000-06 Level, rate or quantity series   5.3
 7 2000-07 Level, rate or quantity series   5.5
 8 2000-08 Level, rate or quantity series   5.5
 9 2000-09 Level, rate or quantity series   5.5
10 2000-10 Level, rate or quantity series   5.3
# … with 554 more rows
```
]

---
count: false
 

.panel1-chunk_1-auto[

```r
# Loading packages
library(tidyverse)
library(lubridate)

# Loading and cleaning the data
read_csv('../data/STLABOUR_10112023115611842.csv') %&gt;%
  select(TIME, Measure, Value) %&gt;%
* rename(date  = TIME)
```
]
 
.panel2-chunk_1-auto[

```
# A tibble: 564 x 3
   date    Measure                        Value
   &lt;chr&gt;   &lt;chr&gt;                          &lt;dbl&gt;
 1 2000-01 Level, rate or quantity series   5.7
 2 2000-02 Level, rate or quantity series   5.8
 3 2000-03 Level, rate or quantity series   5.7
 4 2000-04 Level, rate or quantity series   5.5
 5 2000-05 Level, rate or quantity series   5.4
 6 2000-06 Level, rate or quantity series   5.3
 7 2000-07 Level, rate or quantity series   5.5
 8 2000-08 Level, rate or quantity series   5.5
 9 2000-09 Level, rate or quantity series   5.5
10 2000-10 Level, rate or quantity series   5.3
# … with 554 more rows
```
]

---
count: false
 

.panel1-chunk_1-auto[

```r
# Loading packages
library(tidyverse)
library(lubridate)

# Loading and cleaning the data
read_csv('../data/STLABOUR_10112023115611842.csv') %&gt;%
  select(TIME, Measure, Value) %&gt;%
  rename(date  = TIME) %&gt;%
* rename(adj   = Measure)
```
]
 
.panel2-chunk_1-auto[

```
# A tibble: 564 x 3
   date    adj                            Value
   &lt;chr&gt;   &lt;chr&gt;                          &lt;dbl&gt;
 1 2000-01 Level, rate or quantity series   5.7
 2 2000-02 Level, rate or quantity series   5.8
 3 2000-03 Level, rate or quantity series   5.7
 4 2000-04 Level, rate or quantity series   5.5
 5 2000-05 Level, rate or quantity series   5.4
 6 2000-06 Level, rate or quantity series   5.3
 7 2000-07 Level, rate or quantity series   5.5
 8 2000-08 Level, rate or quantity series   5.5
 9 2000-09 Level, rate or quantity series   5.5
10 2000-10 Level, rate or quantity series   5.3
# … with 554 more rows
```
]

---
count: false
 

.panel1-chunk_1-auto[

```r
# Loading packages
library(tidyverse)
library(lubridate)

# Loading and cleaning the data
read_csv('../data/STLABOUR_10112023115611842.csv') %&gt;%
  select(TIME, Measure, Value) %&gt;%
  rename(date  = TIME) %&gt;%
  rename(adj   = Measure) %&gt;%
* rename(unemp = Value)
```
]
 
.panel2-chunk_1-auto[

```
# A tibble: 564 x 3
   date    adj                            unemp
   &lt;chr&gt;   &lt;chr&gt;                          &lt;dbl&gt;
 1 2000-01 Level, rate or quantity series   5.7
 2 2000-02 Level, rate or quantity series   5.8
 3 2000-03 Level, rate or quantity series   5.7
 4 2000-04 Level, rate or quantity series   5.5
 5 2000-05 Level, rate or quantity series   5.4
 6 2000-06 Level, rate or quantity series   5.3
 7 2000-07 Level, rate or quantity series   5.5
 8 2000-08 Level, rate or quantity series   5.5
 9 2000-09 Level, rate or quantity series   5.5
10 2000-10 Level, rate or quantity series   5.3
# … with 554 more rows
```
]

---
count: false
 

.panel1-chunk_1-auto[

```r
# Loading packages
library(tidyverse)
library(lubridate)

# Loading and cleaning the data
read_csv('../data/STLABOUR_10112023115611842.csv') %&gt;%
  select(TIME, Measure, Value) %&gt;%
  rename(date  = TIME) %&gt;%
  rename(adj   = Measure) %&gt;%
  rename(unemp = Value) %&gt;%
* mutate(adj  = ifelse(adj == 'Level, rate or quantity series', 'No seasonal adjustment', 'Seasonal adjustment'))
```
]
 
.panel2-chunk_1-auto[

```
# A tibble: 564 x 3
   date    adj                    unemp
   &lt;chr&gt;   &lt;chr&gt;                  &lt;dbl&gt;
 1 2000-01 No seasonal adjustment   5.7
 2 2000-02 No seasonal adjustment   5.8
 3 2000-03 No seasonal adjustment   5.7
 4 2000-04 No seasonal adjustment   5.5
 5 2000-05 No seasonal adjustment   5.4
 6 2000-06 No seasonal adjustment   5.3
 7 2000-07 No seasonal adjustment   5.5
 8 2000-08 No seasonal adjustment   5.5
 9 2000-09 No seasonal adjustment   5.5
10 2000-10 No seasonal adjustment   5.3
# … with 554 more rows
```
]

---
count: false
 

.panel1-chunk_1-auto[

```r
# Loading packages
library(tidyverse)
library(lubridate)

# Loading and cleaning the data
read_csv('../data/STLABOUR_10112023115611842.csv') %&gt;%
  select(TIME, Measure, Value) %&gt;%
  rename(date  = TIME) %&gt;%
  rename(adj   = Measure) %&gt;%
  rename(unemp = Value) %&gt;%
  mutate(adj  = ifelse(adj == 'Level, rate or quantity series', 'No seasonal adjustment', 'Seasonal adjustment')) %&gt;%
* mutate(date = paste(date, "01", sep="-"))
```
]
 
.panel2-chunk_1-auto[

```
# A tibble: 564 x 3
   date       adj                    unemp
   &lt;chr&gt;      &lt;chr&gt;                  &lt;dbl&gt;
 1 2000-01-01 No seasonal adjustment   5.7
 2 2000-02-01 No seasonal adjustment   5.8
 3 2000-03-01 No seasonal adjustment   5.7
 4 2000-04-01 No seasonal adjustment   5.5
 5 2000-05-01 No seasonal adjustment   5.4
 6 2000-06-01 No seasonal adjustment   5.3
 7 2000-07-01 No seasonal adjustment   5.5
 8 2000-08-01 No seasonal adjustment   5.5
 9 2000-09-01 No seasonal adjustment   5.5
10 2000-10-01 No seasonal adjustment   5.3
# … with 554 more rows
```
]

---
count: false
 

.panel1-chunk_1-auto[

```r
# Loading packages
library(tidyverse)
library(lubridate)

# Loading and cleaning the data
read_csv('../data/STLABOUR_10112023115611842.csv') %&gt;%
  select(TIME, Measure, Value) %&gt;%
  rename(date  = TIME) %&gt;%
  rename(adj   = Measure) %&gt;%
  rename(unemp = Value) %&gt;%
  mutate(adj  = ifelse(adj == 'Level, rate or quantity series', 'No seasonal adjustment', 'Seasonal adjustment')) %&gt;%
  mutate(date = paste(date, "01", sep="-")) %&gt;%
* mutate(date = as.Date(date, format = "%Y-%m-%d"))
```
]
 
.panel2-chunk_1-auto[

```
# A tibble: 564 x 3
   date       adj                    unemp
   &lt;date&gt;     &lt;chr&gt;                  &lt;dbl&gt;
 1 2000-01-01 No seasonal adjustment   5.7
 2 2000-02-01 No seasonal adjustment   5.8
 3 2000-03-01 No seasonal adjustment   5.7
 4 2000-04-01 No seasonal adjustment   5.5
 5 2000-05-01 No seasonal adjustment   5.4
 6 2000-06-01 No seasonal adjustment   5.3
 7 2000-07-01 No seasonal adjustment   5.5
 8 2000-08-01 No seasonal adjustment   5.5
 9 2000-09-01 No seasonal adjustment   5.5
10 2000-10-01 No seasonal adjustment   5.3
# … with 554 more rows
```
]

---
count: false
 

.panel1-chunk_1-auto[

```r
# Loading packages
library(tidyverse)
library(lubridate)

# Loading and cleaning the data
read_csv('../data/STLABOUR_10112023115611842.csv') %&gt;%
  select(TIME, Measure, Value) %&gt;%
  rename(date  = TIME) %&gt;%
  rename(adj   = Measure) %&gt;%
  rename(unemp = Value) %&gt;%
  mutate(adj  = ifelse(adj == 'Level, rate or quantity series', 'No seasonal adjustment', 'Seasonal adjustment')) %&gt;%
  mutate(date = paste(date, "01", sep="-")) %&gt;%
  mutate(date = as.Date(date, format = "%Y-%m-%d")) %&gt;%
* mutate(month = month(date), year = year(date))
```
]
 
.panel2-chunk_1-auto[

```
# A tibble: 564 x 5
   date       adj                    unemp month  year
   &lt;date&gt;     &lt;chr&gt;                  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 2000-01-01 No seasonal adjustment   5.7     1  2000
 2 2000-02-01 No seasonal adjustment   5.8     2  2000
 3 2000-03-01 No seasonal adjustment   5.7     3  2000
 4 2000-04-01 No seasonal adjustment   5.5     4  2000
 5 2000-05-01 No seasonal adjustment   5.4     5  2000
 6 2000-06-01 No seasonal adjustment   5.3     6  2000
 7 2000-07-01 No seasonal adjustment   5.5     7  2000
 8 2000-08-01 No seasonal adjustment   5.5     8  2000
 9 2000-09-01 No seasonal adjustment   5.5     9  2000
10 2000-10-01 No seasonal adjustment   5.3    10  2000
# … with 554 more rows
```
]

---
count: false
 

.panel1-chunk_1-auto[

```r
# Loading packages
library(tidyverse)
library(lubridate)

# Loading and cleaning the data
read_csv('../data/STLABOUR_10112023115611842.csv') %&gt;%
  select(TIME, Measure, Value) %&gt;%
  rename(date  = TIME) %&gt;%
  rename(adj   = Measure) %&gt;%
  rename(unemp = Value) %&gt;%
  mutate(adj  = ifelse(adj == 'Level, rate or quantity series', 'No seasonal adjustment', 'Seasonal adjustment')) %&gt;%
  mutate(date = paste(date, "01", sep="-")) %&gt;%
  mutate(date = as.Date(date, format = "%Y-%m-%d")) %&gt;%
  mutate(month = month(date), year = year(date)) %&gt;%
* filter(adj == 'No seasonal adjustment')
```
]
 
.panel2-chunk_1-auto[

```
# A tibble: 282 x 5
   date       adj                    unemp month  year
   &lt;date&gt;     &lt;chr&gt;                  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 2000-01-01 No seasonal adjustment   5.7     1  2000
 2 2000-02-01 No seasonal adjustment   5.8     2  2000
 3 2000-03-01 No seasonal adjustment   5.7     3  2000
 4 2000-04-01 No seasonal adjustment   5.5     4  2000
 5 2000-05-01 No seasonal adjustment   5.4     5  2000
 6 2000-06-01 No seasonal adjustment   5.3     6  2000
 7 2000-07-01 No seasonal adjustment   5.5     7  2000
 8 2000-08-01 No seasonal adjustment   5.5     8  2000
 9 2000-09-01 No seasonal adjustment   5.5     9  2000
10 2000-10-01 No seasonal adjustment   5.3    10  2000
# … with 272 more rows
```
]

---
count: false
 

.panel1-chunk_1-auto[

```r
# Loading packages
library(tidyverse)
library(lubridate)

# Loading and cleaning the data
read_csv('../data/STLABOUR_10112023115611842.csv') %&gt;%
  select(TIME, Measure, Value) %&gt;%
  rename(date  = TIME) %&gt;%
  rename(adj   = Measure) %&gt;%
  rename(unemp = Value) %&gt;%
  mutate(adj  = ifelse(adj == 'Level, rate or quantity series', 'No seasonal adjustment', 'Seasonal adjustment')) %&gt;%
  mutate(date = paste(date, "01", sep="-")) %&gt;%
  mutate(date = as.Date(date, format = "%Y-%m-%d")) %&gt;%
  mutate(month = month(date), year = year(date)) %&gt;%
  filter(adj == 'No seasonal adjustment') %&gt;%
* mutate(trend = (lag(unemp, n=4)   + lag(unemp, n=3)   + lag(unemp, n=2)  + lag(unemp, n=1)  +
*                 lead(unemp, n=4)  + lead(unemp, n=3)  + lead(unemp, n=2) + lead(unemp, n=1) +
*                 unemp)/9)
```
]
 
.panel2-chunk_1-auto[

```
# A tibble: 282 x 6
   date       adj                    unemp month  year trend
   &lt;date&gt;     &lt;chr&gt;                  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 2000-01-01 No seasonal adjustment   5.7     1  2000 NA   
 2 2000-02-01 No seasonal adjustment   5.8     2  2000 NA   
 3 2000-03-01 No seasonal adjustment   5.7     3  2000 NA   
 4 2000-04-01 No seasonal adjustment   5.5     4  2000 NA   
 5 2000-05-01 No seasonal adjustment   5.4     5  2000  5.54
 6 2000-06-01 No seasonal adjustment   5.3     6  2000  5.5 
 7 2000-07-01 No seasonal adjustment   5.5     7  2000  5.42
 8 2000-08-01 No seasonal adjustment   5.5     8  2000  5.34
 9 2000-09-01 No seasonal adjustment   5.5     9  2000  5.3 
10 2000-10-01 No seasonal adjustment   5.3    10  2000  5.27
# … with 272 more rows
```
]

---
count: false
 

.panel1-chunk_1-auto[

```r
# Loading packages
library(tidyverse)
library(lubridate)

# Loading and cleaning the data
read_csv('../data/STLABOUR_10112023115611842.csv') %&gt;%
  select(TIME, Measure, Value) %&gt;%
  rename(date  = TIME) %&gt;%
  rename(adj   = Measure) %&gt;%
  rename(unemp = Value) %&gt;%
  mutate(adj  = ifelse(adj == 'Level, rate or quantity series', 'No seasonal adjustment', 'Seasonal adjustment')) %&gt;%
  mutate(date = paste(date, "01", sep="-")) %&gt;%
  mutate(date = as.Date(date, format = "%Y-%m-%d")) %&gt;%
  mutate(month = month(date), year = year(date)) %&gt;%
  filter(adj == 'No seasonal adjustment') %&gt;%
  mutate(trend = (lag(unemp, n=4)   + lag(unemp, n=3)   + lag(unemp, n=2)  + lag(unemp, n=1)  +
                  lead(unemp, n=4)  + lead(unemp, n=3)  + lead(unemp, n=2) + lead(unemp, n=1) +
                  unemp)/9)
```
]
 
.panel2-chunk_1-auto[

```
# A tibble: 282 x 6
   date       adj                    unemp month  year trend
   &lt;date&gt;     &lt;chr&gt;                  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 2000-01-01 No seasonal adjustment   5.7     1  2000 NA   
 2 2000-02-01 No seasonal adjustment   5.8     2  2000 NA   
 3 2000-03-01 No seasonal adjustment   5.7     3  2000 NA   
 4 2000-04-01 No seasonal adjustment   5.5     4  2000 NA   
 5 2000-05-01 No seasonal adjustment   5.4     5  2000  5.54
 6 2000-06-01 No seasonal adjustment   5.3     6  2000  5.5 
 7 2000-07-01 No seasonal adjustment   5.5     7  2000  5.42
 8 2000-08-01 No seasonal adjustment   5.5     8  2000  5.34
 9 2000-09-01 No seasonal adjustment   5.5     9  2000  5.3 
10 2000-10-01 No seasonal adjustment   5.3    10  2000  5.27
# … with 272 more rows
```
]

&lt;style&gt;
.panel1-chunk_1-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-chunk_1-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-chunk_1-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;





---


count: false
 

.panel1-chunk_2-auto[

```r
# Plotting the data
*ggplot(data = df, aes(x = date, y = trend))
```
]
 
.panel2-chunk_2-auto[
&lt;img src="lecture7_files/figure-html/chunk_2_auto_01_output-1.png" width="432" /&gt;
]

---
count: false
 

.panel1-chunk_2-auto[

```r
# Plotting the data
ggplot(data = df, aes(x = date, y = trend))+
* geom_line(stat='identity', lwd = 1)
```
]
 
.panel2-chunk_2-auto[
&lt;img src="lecture7_files/figure-html/chunk_2_auto_02_output-1.png" width="432" /&gt;
]

---
count: false
 

.panel1-chunk_2-auto[

```r
# Plotting the data
ggplot(data = df, aes(x = date, y = trend))+
  geom_line(stat='identity', lwd = 1)+
*   scale_x_date(date_breaks = "4 month", date_labels = "%m-%Y")
```
]
 
.panel2-chunk_2-auto[
&lt;img src="lecture7_files/figure-html/chunk_2_auto_03_output-1.png" width="432" /&gt;
]

---
count: false
 

.panel1-chunk_2-auto[

```r
# Plotting the data
ggplot(data = df, aes(x = date, y = trend))+
  geom_line(stat='identity', lwd = 1)+
    scale_x_date(date_breaks = "4 month", date_labels = "%m-%Y")+
* xlab("")
```
]
 
.panel2-chunk_2-auto[
&lt;img src="lecture7_files/figure-html/chunk_2_auto_04_output-1.png" width="432" /&gt;
]

---
count: false
 

.panel1-chunk_2-auto[

```r
# Plotting the data
ggplot(data = df, aes(x = date, y = trend))+
  geom_line(stat='identity', lwd = 1)+
    scale_x_date(date_breaks = "4 month", date_labels = "%m-%Y")+
  xlab("") +
* ylab("Unemp. rate (%)")
```
]
 
.panel2-chunk_2-auto[
&lt;img src="lecture7_files/figure-html/chunk_2_auto_05_output-1.png" width="432" /&gt;
]

---
count: false
 

.panel1-chunk_2-auto[

```r
# Plotting the data
ggplot(data = df, aes(x = date, y = trend))+
  geom_line(stat='identity', lwd = 1)+
    scale_x_date(date_breaks = "4 month", date_labels = "%m-%Y")+
  xlab("") +
  ylab("Unemp. rate (%)") +
* labs(title = "Trend component",
*      caption = "")
```
]
 
.panel2-chunk_2-auto[
&lt;img src="lecture7_files/figure-html/chunk_2_auto_06_output-1.png" width="432" /&gt;
]

---
count: false
 

.panel1-chunk_2-auto[

```r
# Plotting the data
ggplot(data = df, aes(x = date, y = trend))+
  geom_line(stat='identity', lwd = 1)+
    scale_x_date(date_breaks = "4 month", date_labels = "%m-%Y")+
  xlab("") +
  ylab("Unemp. rate (%)") +
  labs(title = "Trend component",
       caption = "")+
* theme(plot.title = element_text(size=22),
*       plot.subtitle = element_text(size=16),
*       legend.title = element_blank(),
*       legend.text=element_text(size=14),
*       legend.position="bottom",
*       plot.caption = element_text(size=12, hjust = 0),
*       axis.title = element_text(size = 18),
*       strip.background = element_blank(),
*       axis.text.x=element_text(angle=45, hjust=1, size = 12),
*       axis.text.y=element_text(size = 12),
*       strip.placement = "outside",
*       panel.grid.minor = element_line('grey', size = 0.1, linetype = 'dashed'),
*       panel.grid.major = element_line('grey', size = 0.1, linetype = 'dashed'),
*       panel.background = element_rect(fill = "transparent", colour = NA),
*       plot.background  = element_rect(fill = "transparent", colour = NA),
*       legend.background = element_rect(fill='transparent'),
*       legend.key=element_blank())
```
]
 
.panel2-chunk_2-auto[
&lt;img src="lecture7_files/figure-html/chunk_2_auto_07_output-1.png" width="432" /&gt;
]

&lt;style&gt;
.panel1-chunk_2-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-chunk_2-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-chunk_2-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;










---



&lt;img src="lecture7_files/figure-html/unnamed-chunk-16-1.png" width="1008" style="display: block; margin: auto;" /&gt;


---

## Finding the season component

To extract the season component, we can average over each month. 

The part of the unemployment not explained by the trend is given by

`$$u_t - \lambda_t$$`

Let's calcualte the average of this value for each month of the year. 

This will be our seasonal (monthly) component.




---





count: false
 

.panel1-chunk_3-auto[

```r
*df
```
]
 
.panel2-chunk_3-auto[

```
# A tibble: 74 x 8
   month unemp_month date       adj                unemp  year trend unemp_shock
   &lt;dbl&gt;       &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;              &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;
 1     1     -0.0222 2014-01-01 No seasonal adjus…   6.8  2014  6.81      0.0111
 2     1     -0.0222 2015-01-01 No seasonal adjus…   5.5  2015  5.61     -0.0889
 3     1     -0.0222 2016-01-01 No seasonal adjus…   5    2016  5.        0.0222
 4     1     -0.0222 2017-01-01 No seasonal adjus…   4.6  2017  4.59      0.0333
 5     1     -0.0222 2018-01-01 No seasonal adjus…   4.1  2018  4.17     -0.0444
 6     1     -0.0222 2019-01-01 No seasonal adjus…   3.9  2019  3.88      0.0444
 7     1     -0.0222 2020-01-01 No seasonal adjus…   3.9  2020  3.9       0.0222
 8     2      0.0507 2014-02-01 No seasonal adjus…   6.7  2014  6.67     -0.0174
 9     2      0.0507 2015-02-01 No seasonal adjus…   5.5  2015  5.54     -0.0952
10     2      0.0507 2016-02-01 No seasonal adjus…   5.1  2016  4.96      0.0937
# … with 64 more rows
```
]

---
count: false
 

.panel1-chunk_3-auto[

```r
df %&gt;%
* mutate(month = month(date), year = year(date))
```
]
 
.panel2-chunk_3-auto[

```
# A tibble: 74 x 8
   month unemp_month date       adj                unemp  year trend unemp_shock
   &lt;dbl&gt;       &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;              &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;
 1     1     -0.0222 2014-01-01 No seasonal adjus…   6.8  2014  6.81      0.0111
 2     1     -0.0222 2015-01-01 No seasonal adjus…   5.5  2015  5.61     -0.0889
 3     1     -0.0222 2016-01-01 No seasonal adjus…   5    2016  5.        0.0222
 4     1     -0.0222 2017-01-01 No seasonal adjus…   4.6  2017  4.59      0.0333
 5     1     -0.0222 2018-01-01 No seasonal adjus…   4.1  2018  4.17     -0.0444
 6     1     -0.0222 2019-01-01 No seasonal adjus…   3.9  2019  3.88      0.0444
 7     1     -0.0222 2020-01-01 No seasonal adjus…   3.9  2020  3.9       0.0222
 8     2      0.0507 2014-02-01 No seasonal adjus…   6.7  2014  6.67     -0.0174
 9     2      0.0507 2015-02-01 No seasonal adjus…   5.5  2015  5.54     -0.0952
10     2      0.0507 2016-02-01 No seasonal adjus…   5.1  2016  4.96      0.0937
# … with 64 more rows
```
]

---
count: false
 

.panel1-chunk_3-auto[

```r
df %&gt;%
  mutate(month = month(date), year = year(date)) %&gt;%
* group_by(month)
```
]
 
.panel2-chunk_3-auto[

```
# A tibble: 74 x 8
# Groups:   month [12]
   month unemp_month date       adj                unemp  year trend unemp_shock
   &lt;dbl&gt;       &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;              &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;
 1     1     -0.0222 2014-01-01 No seasonal adjus…   6.8  2014  6.81      0.0111
 2     1     -0.0222 2015-01-01 No seasonal adjus…   5.5  2015  5.61     -0.0889
 3     1     -0.0222 2016-01-01 No seasonal adjus…   5    2016  5.        0.0222
 4     1     -0.0222 2017-01-01 No seasonal adjus…   4.6  2017  4.59      0.0333
 5     1     -0.0222 2018-01-01 No seasonal adjus…   4.1  2018  4.17     -0.0444
 6     1     -0.0222 2019-01-01 No seasonal adjus…   3.9  2019  3.88      0.0444
 7     1     -0.0222 2020-01-01 No seasonal adjus…   3.9  2020  3.9       0.0222
 8     2      0.0507 2014-02-01 No seasonal adjus…   6.7  2014  6.67     -0.0174
 9     2      0.0507 2015-02-01 No seasonal adjus…   5.5  2015  5.54     -0.0952
10     2      0.0507 2016-02-01 No seasonal adjus…   5.1  2016  4.96      0.0937
# … with 64 more rows
```
]

---
count: false
 

.panel1-chunk_3-auto[

```r
df %&gt;%
  mutate(month = month(date), year = year(date)) %&gt;%
  group_by(month) %&gt;%
* summarise(unemp_month = mean(unemp - trend, na.rm = T))
```
]
 
.panel2-chunk_3-auto[

```
# A tibble: 12 x 2
   month unemp_month
 * &lt;dbl&gt;       &lt;dbl&gt;
 1     1     -0.0222
 2     2      0.0444
 3     3     -0.0778
 4     4     -0.180 
 5     5     -0.0833
 6     6      0.0333
 7     7      0.156 
 8     8      0.163 
 9     9      0.154 
10    10     -0.0167
11    11     -0.163 
12    12     -0.111 
```
]

---
count: false
 

.panel1-chunk_3-auto[

```r
df %&gt;%
  mutate(month = month(date), year = year(date)) %&gt;%
  group_by(month) %&gt;%
  summarise(unemp_month = mean(unemp - trend, na.rm = T)) %&gt;%
* full_join(df, by = 'month')
```
]
 
.panel2-chunk_3-auto[

```
# A tibble: 74 x 9
   month unemp_month.x unemp_month.y date       adj   unemp  year trend
   &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1     1       -0.0222       -0.0222 2014-01-01 No s…   6.8  2014  6.81
 2     1       -0.0222       -0.0222 2015-01-01 No s…   5.5  2015  5.61
 3     1       -0.0222       -0.0222 2016-01-01 No s…   5    2016  5.  
 4     1       -0.0222       -0.0222 2017-01-01 No s…   4.6  2017  4.59
 5     1       -0.0222       -0.0222 2018-01-01 No s…   4.1  2018  4.17
 6     1       -0.0222       -0.0222 2019-01-01 No s…   3.9  2019  3.88
 7     1       -0.0222       -0.0222 2020-01-01 No s…   3.9  2020  3.9 
 8     2        0.0444        0.0507 2014-02-01 No s…   6.7  2014  6.67
 9     2        0.0444        0.0507 2015-02-01 No s…   5.5  2015  5.54
10     2        0.0444        0.0507 2016-02-01 No s…   5.1  2016  4.96
# … with 64 more rows, and 1 more variable: unemp_shock &lt;dbl&gt;
```
]

---
count: false
 

.panel1-chunk_3-auto[

```r
df %&gt;%
  mutate(month = month(date), year = year(date)) %&gt;%
  group_by(month) %&gt;%
  summarise(unemp_month = mean(unemp - trend, na.rm = T)) %&gt;%
  full_join(df, by = 'month')
```
]
 
.panel2-chunk_3-auto[

```
# A tibble: 74 x 9
   month unemp_month.x unemp_month.y date       adj   unemp  year trend
   &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1     1       -0.0222       -0.0222 2014-01-01 No s…   6.8  2014  6.81
 2     1       -0.0222       -0.0222 2015-01-01 No s…   5.5  2015  5.61
 3     1       -0.0222       -0.0222 2016-01-01 No s…   5    2016  5.  
 4     1       -0.0222       -0.0222 2017-01-01 No s…   4.6  2017  4.59
 5     1       -0.0222       -0.0222 2018-01-01 No s…   4.1  2018  4.17
 6     1       -0.0222       -0.0222 2019-01-01 No s…   3.9  2019  3.88
 7     1       -0.0222       -0.0222 2020-01-01 No s…   3.9  2020  3.9 
 8     2        0.0444        0.0507 2014-02-01 No s…   6.7  2014  6.67
 9     2        0.0444        0.0507 2015-02-01 No s…   5.5  2015  5.54
10     2        0.0444        0.0507 2016-02-01 No s…   5.1  2016  4.96
# … with 64 more rows, and 1 more variable: unemp_shock &lt;dbl&gt;
```
]

&lt;style&gt;
.panel1-chunk_3-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-chunk_3-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-chunk_3-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;






---



count: false
 

.panel1-chunk_4-auto[

```r
*ggplot(data = df, aes(x = date, y = unemp_month))
```
]
 
.panel2-chunk_4-auto[
&lt;img src="lecture7_files/figure-html/chunk_4_auto_01_output-1.png" width="432" /&gt;
]

---
count: false
 

.panel1-chunk_4-auto[

```r
ggplot(data = df, aes(x = date, y = unemp_month))+
* geom_line(stat='identity')
```
]
 
.panel2-chunk_4-auto[
&lt;img src="lecture7_files/figure-html/chunk_4_auto_02_output-1.png" width="432" /&gt;
]

---
count: false
 

.panel1-chunk_4-auto[

```r
ggplot(data = df, aes(x = date, y = unemp_month))+
  geom_line(stat='identity')+
* theme(plot.title = element_text(size=12),
*       plot.subtitle = element_text(size=9),
*       legend.title = element_blank(),
*       legend.position="bottom",
*       plot.caption = element_text(size=6, hjust = 0),
*       axis.title = element_text(size = 11),
*       strip.background = element_blank(),
*       strip.placement = "outside",
*       panel.grid.minor = element_line('grey', size = 0.1, linetype = 'dashed'),
*       panel.grid.major = element_line('grey', size = 0.1, linetype = 'dashed'),
*       legend.key = element_rect(fill = NA),
*       axis.text.x=element_text(angle=45, hjust=1),
*       panel.background = element_rect(fill = "transparent", colour = NA),
*       plot.background = element_rect(fill = "transparent", colour = NA))
```
]
 
.panel2-chunk_4-auto[
&lt;img src="lecture7_files/figure-html/chunk_4_auto_03_output-1.png" width="432" /&gt;
]

---
count: false
 

.panel1-chunk_4-auto[

```r
ggplot(data = df, aes(x = date, y = unemp_month))+
  geom_line(stat='identity')+
  theme(plot.title = element_text(size=12),
        plot.subtitle = element_text(size=9),
        legend.title = element_blank(),
        legend.position="bottom",
        plot.caption = element_text(size=6, hjust = 0),
        axis.title = element_text(size = 11),
        strip.background = element_blank(),
        strip.placement = "outside",
        panel.grid.minor = element_line('grey', size = 0.1, linetype = 'dashed'),
        panel.grid.major = element_line('grey', size = 0.1, linetype = 'dashed'),
        legend.key = element_rect(fill = NA),
        axis.text.x=element_text(angle=45, hjust=1),
        panel.background = element_rect(fill = "transparent", colour = NA),
        plot.background = element_rect(fill = "transparent", colour = NA))+
* scale_x_date(date_breaks = "12 month", date_labels = "%m-%Y")
```
]
 
.panel2-chunk_4-auto[
&lt;img src="lecture7_files/figure-html/chunk_4_auto_04_output-1.png" width="432" /&gt;
]

---
count: false
 

.panel1-chunk_4-auto[

```r
ggplot(data = df, aes(x = date, y = unemp_month))+
  geom_line(stat='identity')+
  theme(plot.title = element_text(size=12),
        plot.subtitle = element_text(size=9),
        legend.title = element_blank(),
        legend.position="bottom",
        plot.caption = element_text(size=6, hjust = 0),
        axis.title = element_text(size = 11),
        strip.background = element_blank(),
        strip.placement = "outside",
        panel.grid.minor = element_line('grey', size = 0.1, linetype = 'dashed'),
        panel.grid.major = element_line('grey', size = 0.1, linetype = 'dashed'),
        legend.key = element_rect(fill = NA),
        axis.text.x=element_text(angle=45, hjust=1),
        panel.background = element_rect(fill = "transparent", colour = NA),
        plot.background = element_rect(fill = "transparent", colour = NA))+
  scale_x_date(date_breaks = "12 month", date_labels = "%m-%Y")+
* xlab("")
```
]
 
.panel2-chunk_4-auto[
&lt;img src="lecture7_files/figure-html/chunk_4_auto_05_output-1.png" width="432" /&gt;
]

---
count: false
 

.panel1-chunk_4-auto[

```r
ggplot(data = df, aes(x = date, y = unemp_month))+
  geom_line(stat='identity')+
  theme(plot.title = element_text(size=12),
        plot.subtitle = element_text(size=9),
        legend.title = element_blank(),
        legend.position="bottom",
        plot.caption = element_text(size=6, hjust = 0),
        axis.title = element_text(size = 11),
        strip.background = element_blank(),
        strip.placement = "outside",
        panel.grid.minor = element_line('grey', size = 0.1, linetype = 'dashed'),
        panel.grid.major = element_line('grey', size = 0.1, linetype = 'dashed'),
        legend.key = element_rect(fill = NA),
        axis.text.x=element_text(angle=45, hjust=1),
        panel.background = element_rect(fill = "transparent", colour = NA),
        plot.background = element_rect(fill = "transparent", colour = NA))+
  scale_x_date(date_breaks = "12 month", date_labels = "%m-%Y")+
  xlab("") +
* ylab("Unemployment rate (%)")
```
]
 
.panel2-chunk_4-auto[
&lt;img src="lecture7_files/figure-html/chunk_4_auto_06_output-1.png" width="432" /&gt;
]

---
count: false
 

.panel1-chunk_4-auto[

```r
ggplot(data = df, aes(x = date, y = unemp_month))+
  geom_line(stat='identity')+
  theme(plot.title = element_text(size=12),
        plot.subtitle = element_text(size=9),
        legend.title = element_blank(),
        legend.position="bottom",
        plot.caption = element_text(size=6, hjust = 0),
        axis.title = element_text(size = 11),
        strip.background = element_blank(),
        strip.placement = "outside",
        panel.grid.minor = element_line('grey', size = 0.1, linetype = 'dashed'),
        panel.grid.major = element_line('grey', size = 0.1, linetype = 'dashed'),
        legend.key = element_rect(fill = NA),
        axis.text.x=element_text(angle=45, hjust=1),
        panel.background = element_rect(fill = "transparent", colour = NA),
        plot.background = element_rect(fill = "transparent", colour = NA))+
  scale_x_date(date_breaks = "12 month", date_labels = "%m-%Y")+
  xlab("") +
  ylab("Unemployment rate (%)") +
* labs(title = "Seasonal component",
*      caption = "")
```
]
 
.panel2-chunk_4-auto[
&lt;img src="lecture7_files/figure-html/chunk_4_auto_07_output-1.png" width="432" /&gt;
]

---
count: false
 

.panel1-chunk_4-auto[

```r
ggplot(data = df, aes(x = date, y = unemp_month))+
  geom_line(stat='identity')+
  theme(plot.title = element_text(size=12),
        plot.subtitle = element_text(size=9),
        legend.title = element_blank(),
        legend.position="bottom",
        plot.caption = element_text(size=6, hjust = 0),
        axis.title = element_text(size = 11),
        strip.background = element_blank(),
        strip.placement = "outside",
        panel.grid.minor = element_line('grey', size = 0.1, linetype = 'dashed'),
        panel.grid.major = element_line('grey', size = 0.1, linetype = 'dashed'),
        legend.key = element_rect(fill = NA),
        axis.text.x=element_text(angle=45, hjust=1),
        panel.background = element_rect(fill = "transparent", colour = NA),
        plot.background = element_rect(fill = "transparent", colour = NA))+
  scale_x_date(date_breaks = "12 month", date_labels = "%m-%Y")+
  xlab("") +
  ylab("Unemployment rate (%)") +
  labs(title = "Seasonal component",
       caption = "")
```
]
 
.panel2-chunk_4-auto[
&lt;img src="lecture7_files/figure-html/chunk_4_auto_08_output-1.png" width="432" /&gt;
]

&lt;style&gt;
.panel1-chunk_4-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-chunk_4-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-chunk_4-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;






---




&lt;img src="lecture7_files/figure-html/unnamed-chunk-18-1.png" width="1008" style="display: block; margin: auto;" /&gt;



---







## Finding the shock component

Finally, the shock is just what is not explained by the seasonal variation or the trend, 

`$$\varepsilon = u_t - \lambda_t - s_t$$`
This can be thought of as "surprises", something we did not expect by looking at the trend or the month of the year.

- This can be some positive or negative economic event for example.

This component can tell us if the labor market is doing better than what is explained by seasonal variation or just a trend.


---


count: false
 

.panel1-chunk_5-auto[

```r
*df
```
]
 
.panel2-chunk_5-auto[

```
# A tibble: 74 x 8
   month unemp_month date       adj                unemp  year trend unemp_shock
   &lt;dbl&gt;       &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;              &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;
 1     1     -0.0222 2014-01-01 No seasonal adjus…   6.8  2014  6.81      0.0111
 2     1     -0.0222 2015-01-01 No seasonal adjus…   5.5  2015  5.61     -0.0889
 3     1     -0.0222 2016-01-01 No seasonal adjus…   5    2016  5.        0.0222
 4     1     -0.0222 2017-01-01 No seasonal adjus…   4.6  2017  4.59      0.0333
 5     1     -0.0222 2018-01-01 No seasonal adjus…   4.1  2018  4.17     -0.0444
 6     1     -0.0222 2019-01-01 No seasonal adjus…   3.9  2019  3.88      0.0444
 7     1     -0.0222 2020-01-01 No seasonal adjus…   3.9  2020  3.9       0.0222
 8     2      0.0507 2014-02-01 No seasonal adjus…   6.7  2014  6.67     -0.0174
 9     2      0.0507 2015-02-01 No seasonal adjus…   5.5  2015  5.54     -0.0952
10     2      0.0507 2016-02-01 No seasonal adjus…   5.1  2016  4.96      0.0937
# … with 64 more rows
```
]

---
count: false
 

.panel1-chunk_5-auto[

```r
df %&gt;%
* mutate(unemp_shock = unemp - (trend + unemp_month))
```
]
 
.panel2-chunk_5-auto[

```
# A tibble: 74 x 8
   month unemp_month date       adj                unemp  year trend unemp_shock
   &lt;dbl&gt;       &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;              &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;
 1     1     -0.0222 2014-01-01 No seasonal adjus…   6.8  2014  6.81      0.0111
 2     1     -0.0222 2015-01-01 No seasonal adjus…   5.5  2015  5.61     -0.0889
 3     1     -0.0222 2016-01-01 No seasonal adjus…   5    2016  5.        0.0222
 4     1     -0.0222 2017-01-01 No seasonal adjus…   4.6  2017  4.59      0.0333
 5     1     -0.0222 2018-01-01 No seasonal adjus…   4.1  2018  4.17     -0.0444
 6     1     -0.0222 2019-01-01 No seasonal adjus…   3.9  2019  3.88      0.0444
 7     1     -0.0222 2020-01-01 No seasonal adjus…   3.9  2020  3.9       0.0222
 8     2      0.0507 2014-02-01 No seasonal adjus…   6.7  2014  6.67     -0.0174
 9     2      0.0507 2015-02-01 No seasonal adjus…   5.5  2015  5.54     -0.0952
10     2      0.0507 2016-02-01 No seasonal adjus…   5.1  2016  4.96      0.0937
# … with 64 more rows
```
]

&lt;style&gt;
.panel1-chunk_5-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-chunk_5-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-chunk_5-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;






---
count: false
 

.panel1-chunk_6-auto[

```r
*ggplot(data = df, aes(x = date, y = unemp_shock))
```
]
 
.panel2-chunk_6-auto[
&lt;img src="lecture7_files/figure-html/chunk_6_auto_01_output-1.png" width="432" /&gt;
]

---
count: false
 

.panel1-chunk_6-auto[

```r
ggplot(data = df, aes(x = date, y = unemp_shock))+
* geom_line(stat='identity')
```
]
 
.panel2-chunk_6-auto[
&lt;img src="lecture7_files/figure-html/chunk_6_auto_02_output-1.png" width="432" /&gt;
]

---
count: false
 

.panel1-chunk_6-auto[

```r
ggplot(data = df, aes(x = date, y = unemp_shock))+
  geom_line(stat='identity')+
* theme(plot.title = element_text(size=12),
*       plot.subtitle = element_text(size=9),
*       legend.title = element_blank(),
*       legend.position="bottom",
*       plot.caption = element_text(size=6, hjust = 0),
*       axis.title = element_text(size = 11),
*       strip.background = element_blank(),
*       strip.placement = "outside",
*       panel.grid.minor = element_line('grey', size = 0.1, linetype = 'dashed'),
*       panel.grid.major = element_line('grey', size = 0.1, linetype = 'dashed'),
*       legend.key = element_rect(fill = NA),
*       axis.text.x=element_text(angle=45, hjust=1),
*       panel.background = element_rect(fill = "transparent", colour = NA),
*       plot.background = element_rect(fill = "transparent", colour = NA))
```
]
 
.panel2-chunk_6-auto[
&lt;img src="lecture7_files/figure-html/chunk_6_auto_03_output-1.png" width="432" /&gt;
]

---
count: false
 

.panel1-chunk_6-auto[

```r
ggplot(data = df, aes(x = date, y = unemp_shock))+
  geom_line(stat='identity')+
  theme(plot.title = element_text(size=12),
        plot.subtitle = element_text(size=9),
        legend.title = element_blank(),
        legend.position="bottom",
        plot.caption = element_text(size=6, hjust = 0),
        axis.title = element_text(size = 11),
        strip.background = element_blank(),
        strip.placement = "outside",
        panel.grid.minor = element_line('grey', size = 0.1, linetype = 'dashed'),
        panel.grid.major = element_line('grey', size = 0.1, linetype = 'dashed'),
        legend.key = element_rect(fill = NA),
        axis.text.x=element_text(angle=45, hjust=1),
        panel.background = element_rect(fill = "transparent", colour = NA),
        plot.background = element_rect(fill = "transparent", colour = NA))+
* scale_x_date(date_breaks = "12 month", date_labels = "%m-%Y")
```
]
 
.panel2-chunk_6-auto[
&lt;img src="lecture7_files/figure-html/chunk_6_auto_04_output-1.png" width="432" /&gt;
]

---
count: false
 

.panel1-chunk_6-auto[

```r
ggplot(data = df, aes(x = date, y = unemp_shock))+
  geom_line(stat='identity')+
  theme(plot.title = element_text(size=12),
        plot.subtitle = element_text(size=9),
        legend.title = element_blank(),
        legend.position="bottom",
        plot.caption = element_text(size=6, hjust = 0),
        axis.title = element_text(size = 11),
        strip.background = element_blank(),
        strip.placement = "outside",
        panel.grid.minor = element_line('grey', size = 0.1, linetype = 'dashed'),
        panel.grid.major = element_line('grey', size = 0.1, linetype = 'dashed'),
        legend.key = element_rect(fill = NA),
        axis.text.x=element_text(angle=45, hjust=1),
        panel.background = element_rect(fill = "transparent", colour = NA),
        plot.background = element_rect(fill = "transparent", colour = NA))+
  scale_x_date(date_breaks = "12 month", date_labels = "%m-%Y")+
* xlab("")
```
]
 
.panel2-chunk_6-auto[
&lt;img src="lecture7_files/figure-html/chunk_6_auto_05_output-1.png" width="432" /&gt;
]

---
count: false
 

.panel1-chunk_6-auto[

```r
ggplot(data = df, aes(x = date, y = unemp_shock))+
  geom_line(stat='identity')+
  theme(plot.title = element_text(size=12),
        plot.subtitle = element_text(size=9),
        legend.title = element_blank(),
        legend.position="bottom",
        plot.caption = element_text(size=6, hjust = 0),
        axis.title = element_text(size = 11),
        strip.background = element_blank(),
        strip.placement = "outside",
        panel.grid.minor = element_line('grey', size = 0.1, linetype = 'dashed'),
        panel.grid.major = element_line('grey', size = 0.1, linetype = 'dashed'),
        legend.key = element_rect(fill = NA),
        axis.text.x=element_text(angle=45, hjust=1),
        panel.background = element_rect(fill = "transparent", colour = NA),
        plot.background = element_rect(fill = "transparent", colour = NA))+
  scale_x_date(date_breaks = "12 month", date_labels = "%m-%Y")+
  xlab("") +
* ylab("Unemployment rate (%)")
```
]
 
.panel2-chunk_6-auto[
&lt;img src="lecture7_files/figure-html/chunk_6_auto_06_output-1.png" width="432" /&gt;
]

---
count: false
 

.panel1-chunk_6-auto[

```r
ggplot(data = df, aes(x = date, y = unemp_shock))+
  geom_line(stat='identity')+
  theme(plot.title = element_text(size=12),
        plot.subtitle = element_text(size=9),
        legend.title = element_blank(),
        legend.position="bottom",
        plot.caption = element_text(size=6, hjust = 0),
        axis.title = element_text(size = 11),
        strip.background = element_blank(),
        strip.placement = "outside",
        panel.grid.minor = element_line('grey', size = 0.1, linetype = 'dashed'),
        panel.grid.major = element_line('grey', size = 0.1, linetype = 'dashed'),
        legend.key = element_rect(fill = NA),
        axis.text.x=element_text(angle=45, hjust=1),
        panel.background = element_rect(fill = "transparent", colour = NA),
        plot.background = element_rect(fill = "transparent", colour = NA))+
  scale_x_date(date_breaks = "12 month", date_labels = "%m-%Y")+
  xlab("") +
  ylab("Unemployment rate (%)") +
* labs(title = "Shock component",
*      caption = "Source: OECD, Short-term Unemployment Statistics")
```
]
 
.panel2-chunk_6-auto[
&lt;img src="lecture7_files/figure-html/chunk_6_auto_07_output-1.png" width="432" /&gt;
]

&lt;style&gt;
.panel1-chunk_6-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-chunk_6-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-chunk_6-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;






---



&lt;img src="lecture7_files/figure-html/unnamed-chunk-20-1.png" width="1008" style="display: block; margin: auto;" /&gt;


---

&lt;img src="lecture7_files/figure-html/unnamed-chunk-21-1.png" width="1008" style="display: block; margin: auto;" /&gt;





&lt;!-- then show how to do that with the series for the uk, that way we get the trend  --&gt;

&lt;!-- then we remove the seasonality, just average by quarter and remove it  --&gt;


---



## Seasonal adjustments: summary

Goal: remove seasonal component

Approach:

- Estimate trend level

- Remove trend from raw series

- What is left: seasonal component + error

- Use that to identify seasonal component

- Subtract the seasonal component from the raw series

There is a large and very advanced literature in econometrics and statistics on filtering time series!





---

## The labour market: other topics

Labour supply

- Extensive margin vs intensive margin

- Hours worked

Earnings

- Wages, Salary, survey based, register based

Gender disparities

- Earnings &amp; promotions




---

## Summary

1. Explain the difference between register and survey (or ILO) unemployment.

2. Explain how the unemployment rate is calculated.

3. Explain the intuition behind seasonal adjustment. 








---

class: inverse, center, middle

# See you in the labs! 

Questions? `\(\texttt{sebastian.ellingsen@bristol.ac.uk}\)`.
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9",
"navigation": {
"scroll": true
}
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
